"use strict";(self.webpackChunk_2mstudio=self.webpackChunk_2mstudio||[]).push([[331],{1331:(e,t,a)=>{a.d(t,{J:()=>c});var r=a(8810);const c=async(e,t,a)=>{if(e)try{for(const c of e)if(0!==c.featured_media&&!t[c.featured_media]){const e=await(0,r._6)(c.featured_media);a((t=>({...t,[c.featured_media]:e.source_url})))}}catch(c){console.error("There was a problem fetching media:",c)}}},2331:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(4270),c=a(2791),s=a(1087),o=a(4420),n=a(645),i=a(1331),d=a(8810),l=a(9874),_=a(184);const h=()=>{const[e,t]=(0,c.useState)(),[a,h]=(0,c.useState)({}),w=(0,o.I0)();return(0,c.useEffect)((()=>{(async()=>{w((0,l.wt)(!0));try{const e=await(0,d.HL)();t(e)}catch(e){console.error("Error fetching data:",e)}finally{w((0,l.wt)(!1))}})()}),[w]),(0,c.useEffect)((()=>{(0,i.J)(e,a,h,i.J)}),[e]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.q,{children:(0,_.jsx)("title",{children:"2m Studio Pracownia Projektowa - Budynki przemys\u0142owe"})}),(0,_.jsx)("ul",{className:n.Z.gallery,children:e&&e.map((e=>(0,_.jsx)("li",{className:n.Z["photo-card"],children:(0,_.jsx)(s.rU,{to:"/".concat(e.id),children:0!==e.featured_media&&a[e.featured_media]&&(0,_.jsxs)("div",{className:n.Z["img-container"],children:[(0,_.jsx)("img",{className:n.Z.card__img,src:a[e.featured_media],alt:e.title.rendered,loading:"lazy"}),(0,_.jsx)("div",{className:n.Z.card__overlay,children:(0,_.jsx)("div",{className:n.Z.box,children:(0,_.jsx)("p",{className:n.Z.card__title,children:e.title.rendered})})})]})})},e.id)))})]})}},8810:(e,t,a)=>{a.d(t,{_6:()=>x,$h:()=>j,u3:()=>u,Q3:()=>m,_z:()=>y,VR:()=>f,HL:()=>g,xl:()=>p});var r=a(5294);const c="https://www.2mstudio.org.pl/wordpress/wp-json/wp/v2/",s="posts",o="posts?categories=5",n="posts?categories=16",i="posts?categories=17",d="posts?categories=18",l="posts?categories=19",_="media/",h="pages/112";r.Z.defaults.baseURL=c;const w=async e=>{try{const t=await r.Z.get("".concat(c).concat(e),{headers:{accept:"application/json"}});if(200===t.status)return t.data;throw new Error("Network response was not ok")}catch(t){throw console.error("An error occurred while fetching data:",t),t}},p=async e=>await w("".concat(s,"/").concat(e)),u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const a="".concat(o,"&page=").concat(e,"&per_page=").concat(t);try{const e=await r.Z.get(a,{headers:{accept:"application/json"}});if(200===e.status){const a=e.headers["x-wp-total"],r=e.data;return{posts:r,lastPage:Math.ceil(parseInt(a)/t)}}throw new Error("Network response was not ok")}catch(c){throw console.error("An error occurred while fetching blog posts:",c),c}},m=async()=>await w(n),g=async()=>await w(i),f=async()=>await w(d),y=async()=>await w(l),j=async()=>await w(h),x=async e=>{try{const t=await r.Z.get("".concat(_).concat(e));if(200!==t.status)throw new Error("Network response was not ok");return t.data}catch(t){throw console.error("There was a problem fetching the media:",t),t}}},645:(e,t,a)=>{a.d(t,{Z:()=>r});const r={gallery:"Projects_gallery__hNvDJ","photo-card":"Projects_photo-card__S9+U1",card__img:"Projects_card__img__qCb7i","img-container":"Projects_img-container__ivNhx",card__overlay:"Projects_card__overlay__jxzgL",card__title:"Projects_card__title__Ew4OD",card__content:"Projects_card__content__EmAMQ",box:"Projects_box__0rHAI"}}}]);
//# sourceMappingURL=331.ef14281f.chunk.js.map