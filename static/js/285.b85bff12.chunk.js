"use strict";(self.webpackChunk_2mstudio=self.webpackChunk_2mstudio||[]).push([[285],{1331:(e,a,t)=>{t.d(a,{J:()=>r});var s=t(8810);const r=async(e,a,t)=>{if(e)try{for(const r of e)if(0!==r.featured_media&&!a[r.featured_media]){const e=await(0,s._6)(r.featured_media);t((a=>({...a,[r.featured_media]:e.source_url})))}}catch(r){console.error("There was a problem fetching media:",r)}}},7285:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var s=t(4270),r=t(2791),o=t(1087),c=t(4420);const n="BlogPage_blog-list__FhnfV",i="BlogPage_blog-post__4Rp8X",l="BlogPage_blog-card__Yx2Dp",d="BlogPage_box__+pPxV",g="BlogPage_post-img__C6DEb",h="BlogPage_blog-date__WTLjp",p="BlogPage_blog-title__k+MSP",_="BlogPage_overlay__QkxZR",w="BlogPage_btn-group__0U9TC",u="BlogPage_btn-pag__4ry92";var m=t(8956),x=t(1331),f=t(8810),j=t(9874),y=t(184);const P=()=>{const[e,a]=(0,r.useState)(),[t,P]=(0,r.useState)({}),[b,N]=(0,r.useState)(1),[k,v]=(0,r.useState)(null),B=(0,c.I0)();(0,r.useEffect)((()=>{S()}),[b]);const S=async()=>{B((0,j.wt)(!0));try{const{posts:e,lastPage:t}=await(0,f.u3)(b);a(e),null===k&&v(t)}catch(e){console.error("Error fetching data:",e)}finally{B((0,j.wt)(!1))}};return(0,r.useEffect)((()=>{(0,x.J)(e,t,P,x.J)}),[e]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.q,{children:(0,y.jsx)("title",{children:"2m Studio Pracownia Projektowa - Portfolio - Blog"})}),(0,y.jsx)(m.$0,{children:(0,y.jsxs)(m.W2,{children:[(0,y.jsx)("div",{className:n,children:e&&e.map((e=>(0,y.jsxs)("article",{className:l,children:[(0,y.jsx)("div",{className:i,children:(0,y.jsxs)(o.rU,{to:"/".concat(e.id),children:[(0,y.jsx)("p",{className:h,children:new Date(e.date).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})}),(0,y.jsx)("h2",{className:p,children:e.title.rendered}),(0,y.jsx)("p",{className:"blog-excerpt",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}})]})}),(0,y.jsx)("div",{className:_,children:(0,y.jsx)(o.rU,{to:"/".concat(e.id),children:0!==e.featured_media&&t[e.featured_media]&&(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{src:t[e.featured_media],alt:e.title.rendered,className:g}),(0,y.jsx)("div",{className:d,children:"zobacz post"})]})})})]},e.id)))}),(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("div",{children:e&&b>1&&(0,y.jsx)(m.zx,{className:u,onClick:()=>{N((e=>e-1))},children:"Poprzednia strona"})}),(0,y.jsx)("div",{children:b<k&&e&&(0,y.jsx)(m.zx,{className:u,onClick:()=>{N((e=>e+1))},children:"Nast\u0119pna strona"})})]})]})})]})}},8810:(e,a,t)=>{t.d(a,{_6:()=>y,$h:()=>j,u3:()=>w,Q3:()=>u,_z:()=>f,VR:()=>x,HL:()=>m,xl:()=>_});var s=t(5294);const r="https://www.2mstudio.org.pl/wordpress/wp-json/wp/v2/",o="posts",c="posts?categories=5",n="posts?categories=16",i="posts?categories=17",l="posts?categories=18",d="posts?categories=19",g="media/",h="pages/112";s.Z.defaults.baseURL=r;const p=async e=>{try{const a=await s.Z.get("".concat(r).concat(e),{headers:{accept:"application/json"}});if(200===a.status)return a.data;throw new Error("Network response was not ok")}catch(a){throw console.error("An error occurred while fetching data:",a),a}},_=async e=>await p("".concat(o,"/").concat(e)),w=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const t="".concat(c,"&page=").concat(e,"&per_page=").concat(a);try{const e=await s.Z.get(t,{headers:{accept:"application/json"}});if(200===e.status){const t=e.headers["x-wp-total"],s=e.data;return{posts:s,lastPage:Math.ceil(parseInt(t)/a)}}throw new Error("Network response was not ok")}catch(r){throw console.error("An error occurred while fetching blog posts:",r),r}},u=async()=>await p(n),m=async()=>await p(i),x=async()=>await p(l),f=async()=>await p(d),j=async()=>await p(h),y=async e=>{try{const a=await s.Z.get("".concat(g).concat(e));if(200!==a.status)throw new Error("Network response was not ok");return a.data}catch(a){throw console.error("There was a problem fetching the media:",a),a}}}}]);
//# sourceMappingURL=285.b85bff12.chunk.js.map