"use strict";(self.webpackChunk_2mstudio=self.webpackChunk_2mstudio||[]).push([[285],{1331:(e,a,t)=>{t.d(a,{J:()=>o});var s=t(8810),r=t(9253);const o=async(e,a,t)=>{try{for(const c of e)if(null!==c.featured_media&&!a[c.featured_media])try{const e=await(0,s._6)(c.featured_media);t((a=>({...a,[c.featured_media]:e.source_url||r})))}catch(o){console.error("There was a problem fetching media for post:",c.id,o),t((e=>({...e,[c.featured_media]:r})))}}catch(o){console.error("There was a problem updating images state:",o)}}},7285:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(4270),r=t(2791),o=t(7689),c=t(1087),n=t(4420);const i="BlogPage_blog-list__FhnfV",l="BlogPage_blog-post__4Rp8X",d="BlogPage_blog-card__Yx2Dp",h="BlogPage_box__+pPxV",g="BlogPage_post-img__C6DEb",p="BlogPage_blog-date__WTLjp",w="BlogPage_blog-title__k+MSP",u="BlogPage_overlay__QkxZR",_="BlogPage_btn-group__0U9TC",m="BlogPage_btn-pag__4ry92";var f=t(4139),x=t(1331),j=t(8810),y=t(9874),P=t(184);const b=()=>{const[e,a]=(0,r.useState)(),[t,b]=(0,r.useState)({}),[N,k]=(0,r.useState)(1),[v,S]=(0,r.useState)(null),B=(0,n.I0)(),E=(0,o.TH)(),[L,T]=(0,r.useState)(!1);(0,r.useEffect)((()=>{z()}),[N]),(0,r.useEffect)((()=>{const e=new URLSearchParams(E.search),a=parseInt(e.get("page")||"1");k(a)}),[E]);const U=e=>{const a=new URLSearchParams(E.search);a.set("page",e);const t="".concat(E.pathname,"?").concat(a.toString());window.history.pushState({},"",t)},z=async()=>{B((0,y.wt)(!0));try{const{posts:e,lastPage:t}=await(0,j.u3)(N);a(e),null===v&&S(t),T(!0)}catch(e){console.error("Error fetching data:",e)}finally{B((0,y.wt)(!1))}};return(0,r.useEffect)((()=>{e&&e.length>0&&(0,x.J)(e,t,b)}),[e,t]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.q,{children:(0,P.jsx)("title",{children:"2M STUDIO Pracownia Projektowa - Portfolio - Blog"})}),(0,P.jsx)(f.$0,{children:(0,P.jsx)(f.W2,{children:L&&(0,P.jsxs)(f.GN,{children:[(0,P.jsx)("div",{className:i,children:e&&e.map((e=>(0,P.jsxs)("article",{className:d,children:[(0,P.jsx)("div",{className:l,children:(0,P.jsxs)(c.rU,{to:"/".concat(e.id),children:[(0,P.jsx)("p",{className:p,children:new Date(e.date).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})}),(0,P.jsx)("h2",{className:w,children:e.title.rendered}),(0,P.jsx)("p",{className:"blog-excerpt",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}})]})}),(0,P.jsx)("div",{className:u,children:(0,P.jsx)(c.rU,{to:"/".concat(e.id),children:0!==e.featured_media&&t[e.featured_media]&&(0,P.jsxs)("div",{children:[(0,P.jsx)("img",{src:t[e.featured_media],alt:e.title.rendered,className:g}),(0,P.jsx)("div",{className:h,children:"zobacz post"})]})})})]},e.id)))}),(0,P.jsxs)("div",{className:_,children:[(0,P.jsx)("div",{children:e&&N>1&&(0,P.jsx)(f.zx,{className:m,onClick:()=>{const e=N-1;k(e),U(e)},children:"Poprzednia strona"})}),(0,P.jsx)("div",{children:N<v&&e&&(0,P.jsx)(f.zx,{className:m,onClick:()=>{const e=N+1;k(e),U(e)},children:"Nast\u0119pna strona"})})]})]})})})]})}},8810:(e,a,t)=>{t.d(a,{_6:()=>y,$h:()=>j,u3:()=>u,Q3:()=>_,_z:()=>x,VR:()=>f,HL:()=>m,xl:()=>w});var s=t(5294);const r="https://www.2mstudio.org.pl/wordpress/wp-json/wp/v2/",o="posts",c="posts?categories=5",n="posts?categories=16",i="posts?categories=17",l="posts?categories=18",d="posts?categories=19",h="media/",g="pages/112";s.Z.defaults.baseURL=r;const p=async e=>{try{const a=await s.Z.get("".concat(r).concat(e),{headers:{accept:"application/json"}});if(200===a.status)return a.data;throw new Error("Network response was not ok")}catch(a){throw console.error("An error occurred while fetching data:",a),a}},w=async e=>await p("".concat(o,"/").concat(e)),u=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const t="".concat(c,"&page=").concat(e,"&per_page=").concat(a);try{const e=await s.Z.get(t,{headers:{accept:"application/json"}});if(200===e.status){const t=e.headers["x-wp-total"],s=e.data;return{posts:s,lastPage:Math.ceil(parseInt(t)/a)}}throw new Error("Network response was not ok")}catch(r){throw console.error("An error occurred while fetching blog posts:",r),r}},_=async()=>await p(n),m=async()=>await p(i),f=async()=>await p(l),x=async()=>await p(d),j=async()=>await p(g),y=async e=>{try{const a=await s.Z.get("".concat(h).concat(e));if(200!==a.status)throw new Error("Network response was not ok");return a.data}catch(a){throw console.error("There was a problem fetching the media:",a),a}}},9253:(e,a,t)=>{e.exports=t.p+"static/media/photo-home.b28ed9eea3b77cd2ca9c.jpg"}}]);
//# sourceMappingURL=285.23c2e5ef.chunk.js.map