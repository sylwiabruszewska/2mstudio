"use strict";(self.webpackChunk_2mstudio=self.webpackChunk_2mstudio||[]).push([[206],{1331:(e,a,t)=>{t.d(a,{J:()=>c});var r=t(8810),s=t(9253);const c=async(e,a,t)=>{try{for(const o of e)if(null!==o.featured_media&&!a[o.featured_media])try{const e=await(0,r._6)(o.featured_media);t((a=>({...a,[o.featured_media]:e.source_url||s})))}catch(c){console.error("There was a problem fetching media for post:",o.id,c),t((e=>({...e,[o.featured_media]:s})))}}catch(c){console.error("There was a problem updating images state:",c)}}},8206:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var r=t(4270),s=t(2791),c=t(1087),o=t(4420),n=t(645),i=t(1331),d=t(8810),l=t(9874),_=t(184);const h=()=>{const[e,a]=(0,s.useState)(),[t,h]=(0,s.useState)({}),w=(0,o.I0)();return(0,s.useEffect)((()=>{(async()=>{w((0,l.wt)(!0));try{const e=await(0,d.VR)();a(e)}catch(e){console.error("Error fetching data:",e)}finally{w((0,l.wt)(!1))}})()}),[w]),(0,s.useEffect)((()=>{e&&e.length>0&&(0,i.J)(e,t,h)}),[e,t]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.q,{children:(0,_.jsx)("title",{children:"2M STUDIO Pracownia Projektowa - Budynki przemys\u0142owe"})}),(0,_.jsx)("ul",{className:n.Z.gallery,children:e&&e.map((e=>(0,_.jsx)("li",{className:n.Z["photo-card"],children:(0,_.jsx)(c.rU,{to:"/".concat(e.id),children:0!==e.featured_media&&t[e.featured_media]&&(0,_.jsxs)("div",{className:n.Z["img-container"],children:[(0,_.jsx)("img",{className:n.Z.card__img,src:t[e.featured_media],alt:e.title.rendered,loading:"lazy"}),(0,_.jsx)("div",{className:n.Z.card__overlay,children:(0,_.jsx)("div",{className:n.Z.box,children:(0,_.jsx)("h3",{className:n.Z.card__title,children:e.title.rendered})})})]})})},e.id)))})]})}},8810:(e,a,t)=>{t.d(a,{_6:()=>x,$h:()=>j,u3:()=>u,Q3:()=>g,_z:()=>y,VR:()=>f,HL:()=>m,xl:()=>p});var r=t(5294);const s="https://www.2mstudio.org.pl/wordpress/wp-json/wp/v2/",c="posts",o="posts?categories=5",n="posts?categories=16",i="posts?categories=17",d="posts?categories=18",l="posts?categories=19",_="media/",h="pages/112";r.Z.defaults.baseURL=s;const w=async e=>{try{const a=await r.Z.get("".concat(s).concat(e),{headers:{accept:"application/json"}});if(200===a.status)return a.data;throw new Error("Network response was not ok")}catch(a){throw console.error("An error occurred while fetching data:",a),a}},p=async e=>await w("".concat(c,"/").concat(e)),u=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const t="".concat(o,"&page=").concat(e,"&per_page=").concat(a);try{const e=await r.Z.get(t,{headers:{accept:"application/json"}});if(200===e.status){const t=e.headers["x-wp-total"],r=e.data;return{posts:r,lastPage:Math.ceil(parseInt(t)/a)}}throw new Error("Network response was not ok")}catch(s){throw console.error("An error occurred while fetching blog posts:",s),s}},g=async()=>await w(n),m=async()=>await w(i),f=async()=>await w(d),y=async()=>await w(l),j=async()=>await w(h),x=async e=>{try{const a=await r.Z.get("".concat(_).concat(e));if(200!==a.status)throw new Error("Network response was not ok");return a.data}catch(a){throw console.error("There was a problem fetching the media:",a),a}}},645:(e,a,t)=>{t.d(a,{Z:()=>r});const r={gallery:"Projects_gallery__hNvDJ","photo-card":"Projects_photo-card__S9+U1",card__img:"Projects_card__img__qCb7i","img-container":"Projects_img-container__ivNhx",card__overlay:"Projects_card__overlay__jxzgL",card__title:"Projects_card__title__Ew4OD",box:"Projects_box__0rHAI"}},9253:(e,a,t)=>{e.exports=t.p+"static/media/photo-home.b28ed9eea3b77cd2ca9c.jpg"}}]);
//# sourceMappingURL=206.bbb58a5b.chunk.js.map